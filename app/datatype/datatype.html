<div class="col-xs-3" ng-init="getDataTypeList()">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4>
                <strong>数据类型</strong>
                <button class="btn btn-primary btn-sm pull-right"
                        ng-click="createDataType()">创建</button>
            </h4>

        </div>
        <table class="table table-hover">
            <tbody>
                <tr ng-repeat="dt in datatypes">
                    <td valign="bottom" style="width:250px"  ng-click="selectDataType(dt.id)">
                        <h7 class="text-left">{{dt.name}}</h7>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<div class="col-xs-9">

            <form class="form-horizontal" ng-show="selected.id != null">
                <div class="form-group">
                    <label class="col-sm-2 control-label">名称</label>
                    <div class="col-sm-10">
                        <input class="form-control" ng-model="selected.name">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">值类型</label>
                    <div class="col-sm-10">
                        <select class="form-control"
                                ng-options="id as title for (id,title) in types"
                                ng-model="selected.type">
                            <option value=""></option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">规则</label>
                    <div class="col-sm-10">
                        <textarea  class="form-control" rows="5" ng-model="selected.rule"></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">样例</label>
                    <div class="col-sm-10">
                        <textarea  class="form-control" rows="25" ng-model="selected.sample"></textarea>
                    </div>
                </div>
                <div class="col-sm-offset-2 checkbox">
                    <label>
                        <input type="checkbox"  ng-model="selected.unique"> 具有唯一性
                    </label>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="button" class="btn btn-danger"
                                data-toggle="modal" href="#Del"
                                data-keyboard="false" data-backdrop="false">
                            删除
                        </button>
                        <button type="button" class="btn btn-success"
                                data-toggle="modal" href="#Test"
                                data-keyboard="false" data-backdrop="false"
                                ng-click="testDataType()">
                            测试
                        </button>
                        <button type="button" class="btn btn-success pull-right"
                                ng-click="saveDataType()">
                            保存
                        </button>
                    </div>
                </div>
            </form>
</div>
<div class="push"></div>

<div id="Test" class="modal fade" visable="true" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">×</button>
                <h3>测试结果</h3>
            </div>
            <div class="modal-body">

                <ul class="list-group">
                    <li class="list-group-item" ng-repeat="item in test_result">
                        {{item.sample}}
                        <!--<img class="pull-right" alt="Brand" src="...">-->
                        <span class="badge" ng-show="item.matched">匹配</span>
                        <span class="badge" ng-show="item.matched == false">失败</span>
                    </li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default pull-right" data-dismiss="modal">关闭</button>
            </div>
        </div>
    </div>
</div>

<div id="Del" class="modal fade" visible="true" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">×</button>
                <h3>删除确认</h3>
            </div>
            <div class="modal-body">
                <p>您确认要删除数据类型{{selected.name}}吗？</p>
            </div>
            <div class="modal-footer">
                <button class="btn" data-dismiss="modal">取消</button>
                <button class="btn btn-primary" data-dismiss="modal"
                        ng-click="deleteDataType(selected.id)">确认删除</button>
            </div>
        </div>
    </div>
</div>

